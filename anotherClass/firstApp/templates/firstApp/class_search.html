{% extends 'firstApp/base.html' %}
{% load static %}
{% load humanize %}
{% load bootstrap %}
{% block upper_content %}

<link rel="stylesheet" href="{% static 'css/selectbox.css' %}">
<link rel="stylesheet" href="{% static 'css/catelist.css' %}">
<link rel="stylesheet" href="{% static 'css/base.css' %}">
<script type="text/javascript" src="{% static 'js/priceInput.js' %}"></script>

{% load widget_tweaks %}
<form method="get">
  <div class="container bg-light">
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">카테고리</label>
            <div>
              {% for choice in filter.form.category %}
                <label class="checkbox-inline">
                  {{choice.choice_label}} {{choice.tag}}&nbsp;
                </label>
              {% endfor %}
            </div>
        </div>
          <div class="form-group row">
              <label class="col-sm-2 col-form-label">지역</label>
              <div>{% render_field filter.form.area class="form-control" %}</div>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <label class="col-sm-2 col-form-label">레벨</label>
              <div>{% render_field filter.form.level class="form-control" %}</div>
          </div>
      <div class="form-group row">
          <label class="col-sm-2 col-form-label">가격대</label>
          <span><input class="price_search_input" id="minPrice" name="price1" type="text" maxlength="9" value={{price1}}></span>
          <span>원 ~</span>
          <span><input class="price_search_input" id="maxPrice" name="price2" type="text" maxlength="9" value={{price2}}></span>
          <span>원</span>
          &nbsp;<span id="errmsg"></span>
      </div>
      <div class="text-right">
        <button type="submit" class="btn btn-primary">
          적용하기
        </button>
      </div>
  </div>
</form>
{% endblock upper_content%}
{% block content %}

    <div class="album py-5 bg-light">

        <div class="container">
            <!--<form  action="{% url 'class_align' %}" method="get">
                <div class="filter-item" align="right">
                    <span class="filter-name">정렬</span>
                    <select name="r" value="{{ r }}">
                        <option selected disabled value="0">--선택--</option>
                        <option value="1">낮은 가격순</option>
                        <option value="2">높은 가격순</option>
                    </select><input type="submit" value="적용">
                </div>
            </form>-->
            <div class="row">
              {% for class in filter.qs %}
              <div class="col-md-4">
                <a class="productdetail"
                   href="{% url 'product' class.id %}">
                  <div class="card mb-4 shadow-sm">
                  <img src="{{class.photo.url}}" width="338px" height="250px" style="align-self: center;margin-top: 5px;">
                      {% if class.on_sale == True %}
                      <div class="on_sale">SALE</div>
                      {% endif %}
                    <div class="card-body">
                    <p class="class_title">{{class.title}}</p>

                      <small class="tutor_name">{{class.tutor}}</small>

                        {% if class.on_sale == True %}
                        <span class="class_price">{{class.sale_price|intcomma}} 원</span>
                            <span style="
                                text-decoration: line-through;
        color: #848484;
        font-size: 16px;
        float: right;
        font-weight: bolder;
        position: relative;
        bottom: 25px;
        margin-right: 3px;">{{class.price|intcomma}} 원</span>

                        {% else %}
                        <span class="class_price">{{class.price|intcomma}} 원</span>
                        {% endif %}

                    </div>
                  </div>
                </a>
              </div>
                {% empty %}
                  <div class = "row mx-auto">
                      <p class="text-center my_search_text">검색 결과가 없습니다.</p>
                  </div>
          {% endfor %}
            </div>
        </div>
    </div>
    {% endblock content %}